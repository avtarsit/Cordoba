<div class="container-fluid products" ng-controller="CategoryListController">
    <div class="col-lg-3 col-md-4 col-xs-12">
        <div class="row">
            <div class="col-md-12 col-sm-6 col-xs-12 mb-20">
                <div class="block pb-15">
                    <div class="col-sm-12">
                        <div class="block-heading">
                            <h4>Categories</h4>
                        </div>
                    </div>
                    <div class="category-list">
                        <ul class="col-sm-12">
                            <li ng-class="SelectedCategoryId==category.Category_Id? 'active' : '' " ng-if="category.ParentId==0" ng-repeat="category in CategoryList">
                                <a href="#" ng-bind-html="category.name" ui-sref="LayoutCategory({CategoryId:category.Category_Id})"></a>
                                <ul>
                                    <li ng-if="SubCategory.ParentId>0  && SelectedCategoryId==category.Category_Id" ng-repeat="SubCategory in CategoryList | filter:{ ParentId: category.Category_Id }">
                                        <a href="#" ui-sref="LayoutProducts({CategoryId:SubCategory.Category_Id})">{{SubCategory.name}}</a>
                                    </li>
                                </ul>
                            </li>                         
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-9 col-md-8 col-xs-12">
        <div class="row">
            <div class="col-sm-12 latest-product mb-30">
                <div class="block-heading">
                    <h4>Latest Products</h4>
                </div>
                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-sm-3" ng-if="category.ParentId==SelectedCategoryId" ng-repeat="category in CategoryList | filter:{ ParentId: category.Category_Id } ">
                        <div class="product-block">
                            <div class="product-img">
                                <img ng-src="{{category.image}}" alt="latest product" />
                            </div>
                            <a href="#" ui-sref="LayoutProducts({CategoryId:category.Category_Id})">{{category.name}}</a>
                        </div>
                    </div>             
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {
        $.mCustomScrollbar.defaults.theme = 'dark-thick';       
        $('.category-list').mCustomScrollbar();

    });
</script>


